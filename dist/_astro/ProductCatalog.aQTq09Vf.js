import{j as e}from"./jsx-runtime.ClP7wGfN.js";import{r as d}from"./index.DK-fsZOb.js";import{m as c}from"./proxy.i6brGrIQ.js";function m(r){var i,t,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(i=0;i<s;i++)r[i]&&(t=m(r[i]))&&(a&&(a+=" "),a+=t)}else for(t in r)r[t]&&(a&&(a+=" "),a+=t);return a}function h(){for(var r,i,t=0,a="",s=arguments.length;t<s;t++)(r=arguments[t])&&(i=m(r))&&(a&&(a+=" "),a+=i);return a}const p={electronic:"cold",systems:"cold",moving:"warm",lifters:"warm",turners:"warm",lift_turn:"warm",ceiling_wall:"warm",hanging:"warm",accessories:"neutral",misc:"neutral",texts:"neutral"},u={cold:{accent:"#00d4ff",borderHoverClass:"hover:border-[#00d4ff]/40",titleHoverClass:"group-hover:text-[#00d4ff]",chipShadow:"0 0 16px rgba(0,212,255,0.22)",radial:"radial-gradient(90% 70% at 100% 0%, rgba(0,212,255,0.24) 0%, rgba(0,212,255,0) 60%)"},warm:{accent:"#ff6b35",borderHoverClass:"hover:border-secondary-500/45",titleHoverClass:"group-hover:text-secondary-400",chipShadow:"0 0 16px rgba(255,107,53,0.20)",radial:"radial-gradient(85% 70% at 0% 100%, rgba(255,107,53,0.22) 0%, rgba(255,107,53,0) 60%)"},neutral:{accent:"#00ff41",borderHoverClass:"hover:border-primary-500/40",titleHoverClass:"group-hover:text-primary-400",chipShadow:"0 0 16px rgba(0,255,65,0.18)",radial:"radial-gradient(90% 70% at 100% 100%, rgba(0,255,65,0.18) 0%, rgba(0,255,65,0) 60%)"}};function b(r){return r?p[r]??"neutral":"neutral"}function y({product:r,categoryName:i}){const t=r.images?.[0]??"/images/products/placeholder.svg",a=b(r.category),s=u[a];return e.jsxs(c.a,{href:`/products/${r.id}`,className:h("group block h-full overflow-hidden rounded-2xl","bg-white/5 backdrop-blur-md","border border-dark-700/60","transition-all duration-300","hover:-translate-y-1 hover:shadow-2xl hover:shadow-black/45",s.borderHoverClass),initial:{opacity:0,y:14},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{duration:.45},children:[e.jsxs("div",{className:"relative aspect-[16/9] bg-dark-900/70 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-70",style:{backgroundImage:`${s.radial}, repeating-linear-gradient(135deg, rgba(255,255,255,0.06) 0px, rgba(255,255,255,0.06) 1px, rgba(255,255,255,0) 1px, rgba(255,255,255,0) 10px)`}}),e.jsx("img",{src:t,alt:r.name,loading:"lazy",className:"absolute inset-0 w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-all duration-300 group-hover:scale-[1.03]"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-950/85 via-dark-900/35 to-transparent"}),e.jsx("div",{className:"absolute -right-10 -top-10 h-28 w-28 rounded-full blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{backgroundColor:s.accent}}),e.jsxs("div",{className:"absolute left-4 top-4 inline-flex items-center gap-2 rounded-full bg-dark-900/80 border border-dark-700 px-3 py-1 text-xs text-gray-200",style:{boxShadow:s.chipShadow},children:[e.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:s.accent,boxShadow:`0 0 18px ${s.accent}55`}}),i??"Категория"]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:h("text-xl font-bold text-white transition-colors",s.titleHoverClass),children:r.name}),e.jsx("p",{className:"mt-2 text-sm text-gray-400 line-clamp-2",children:r.shortDescription})]}),e.jsx("div",{className:"shrink-0 text-gray-500 group-hover:text-white/90 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),!!r.features?.length&&e.jsx("ul",{className:"mt-5 space-y-1.5",children:r.features.slice(0,3).map(n=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-300",children:[e.jsx("span",{className:"mt-1 inline-block w-1.5 h-1.5 rounded-full",style:{backgroundColor:s.accent,opacity:.75}}),e.jsx("span",{className:"line-clamp-1",children:n})]},n))}),e.jsxs("div",{className:"mt-6 flex items-center justify-between gap-4",children:[e.jsx("span",{className:"text-xs text-gray-500",children:r.price?`Цена: ${r.price}`:"Цена по запросу"}),e.jsx("span",{className:"text-xs font-semibold text-gray-200 group-hover:text-white transition-colors",children:"Подробнее"})]})]})]})}function k({products:r,categories:i}){const[t,a]=d.useState("all"),[s,x]=d.useState(""),n=d.useMemo(()=>{const o=s.trim().toLowerCase();return r.filter(l=>(t==="all"?!0:l.category===t)?o?`${l.name} ${l.shortDescription} ${l.description}`.toLowerCase().includes(o):!0:!1)},[r,t,s]),g=d.useMemo(()=>{const o=new Map;return i.forEach(l=>o.set(l.id,l.name)),o},[i]);return e.jsxs("div",{children:[e.jsxs("div",{className:"card card-glass p-6 border border-dark-700/60",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4 lg:gap-6 justify-between",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{onClick:()=>a("all"),className:`px-4 py-2 rounded-lg text-sm border transition-all ${t==="all"?"bg-primary-500/15 border-primary-500/40 text-white":"bg-dark-900/40 border-dark-700 text-gray-300 hover:text-white hover:border-primary-500/30"}`,children:"Все"}),i.map(o=>e.jsx("button",{onClick:()=>a(o.id),className:`px-4 py-2 rounded-lg text-sm border transition-all ${t===o.id?"bg-primary-500/15 border-primary-500/40 text-white":"bg-dark-900/40 border-dark-700 text-gray-300 hover:text-white hover:border-primary-500/30"}`,children:o.name},o.id))]}),e.jsxs("div",{className:"relative w-full lg:w-[380px]",children:[e.jsx("input",{value:s,onChange:o=>x(o.target.value),placeholder:"Поиск по каталогу…",className:"w-full px-4 py-3 rounded-xl bg-dark-900/40 border border-dark-700 text-gray-200 placeholder:text-gray-500 focus:outline-none focus:border-primary-500/50"}),e.jsx("div",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-gray-500",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-4.35-4.35m1.35-5.65a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),e.jsxs("div",{className:"mt-4 text-sm text-gray-400",children:["Найдено: ",e.jsx("span",{className:"text-white font-semibold",children:n.length})]})]}),e.jsx(c.div,{className:"mt-10 grid sm:grid-cols-2 lg:grid-cols-3 gap-8",initial:"hidden",animate:"show",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},children:n.map(o=>e.jsx(c.div,{variants:{hidden:{opacity:0,y:10},show:{opacity:1,y:0}},children:e.jsx(y,{product:o,categoryName:g.get(o.category)})},o.id))})]})}export{k as default};
