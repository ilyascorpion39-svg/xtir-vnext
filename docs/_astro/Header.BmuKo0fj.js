import{j as t}from"./jsx-runtime.ClP7wGfN.js";import{r}from"./index.DK-fsZOb.js";import{S as m}from"./site.Cg3JwBvn.js";import{M as U,u as I,P as $,a as B,b as V,L as A,m as N}from"./proxy.i6brGrIQ.js";class H extends r.Component{getSnapshotBeforeUpdate(a){const s=this.props.childRef.current;if(s&&a.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function K({children:i,isPresent:a}){const s=r.useId(),n=r.useRef(null),h=r.useRef({width:0,height:0,top:0,left:0}),{nonce:e}=r.useContext(U);return r.useInsertionEffect(()=>{const{width:u,height:l,top:x,left:o}=h.current;if(a||!n.current||!u||!l)return;n.current.dataset.motionPopId=s;const d=document.createElement("style");return e&&(d.nonce=e),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${l}px !important;
            top: ${x}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[a]),t.jsx(H,{isPresent:a,childRef:n,sizeRef:h,children:r.cloneElement(i,{ref:n})})}const O=({children:i,initial:a,isPresent:s,onExitComplete:n,custom:h,presenceAffectsLayout:e,mode:u})=>{const l=I(_),x=r.useId(),o=r.useCallback(p=>{l.set(p,!0);for(const v of l.values())if(!v)return;n&&n()},[l,n]),d=r.useMemo(()=>({id:x,initial:a,isPresent:s,custom:h,onExitComplete:o,register:p=>(l.set(p,!1),()=>l.delete(p))}),e?[Math.random(),o]:[s,o]);return r.useMemo(()=>{l.forEach((p,v)=>l.set(v,!1))},[s]),r.useEffect(()=>{!s&&!l.size&&n&&n()},[s]),u==="popLayout"&&(i=t.jsx(K,{isPresent:s,children:i})),t.jsx($.Provider,{value:d,children:i})};function _(){return new Map}const b=i=>i.key||"";function R(i){const a=[];return r.Children.forEach(i,s=>{r.isValidElement(s)&&a.push(s)}),a}const D=({children:i,custom:a,initial:s=!0,onExitComplete:n,presenceAffectsLayout:h=!0,mode:e="sync",propagate:u=!1})=>{const[l,x]=B(u),o=r.useMemo(()=>R(i),[i]),d=u&&!l?[]:o.map(b),p=r.useRef(!0),v=r.useRef(o),w=I(()=>new Map),[S,T]=r.useState(o),[g,M]=r.useState(o);V(()=>{p.current=!1,v.current=o;for(let f=0;f<g.length;f++){const c=b(g[f]);d.includes(c)?w.delete(c):w.get(c)!==!0&&w.set(c,!1)}},[g,d.length,d.join("-")]);const j=[];if(o!==S){let f=[...o];for(let c=0;c<g.length;c++){const C=g[c],k=b(C);d.includes(k)||(f.splice(c,0,C),j.push(C))}e==="wait"&&j.length&&(f=j),M(R(f)),T(o);return}const{forceRender:y}=r.useContext(A);return t.jsx(t.Fragment,{children:g.map(f=>{const c=b(f),C=u&&!l?!1:o===g||d.includes(c),k=()=>{if(w.has(c))w.set(c,!0);else return;let E=!0;w.forEach(P=>{P||(E=!1)}),E&&(y?.(),M(v.current),u&&x?.(),n&&n())};return t.jsx(O,{isPresent:C,initial:!p.current||s?void 0:!1,custom:C?void 0:a,presenceAffectsLayout:h,mode:e,onExitComplete:C?void 0:k,children:f},c)})})},W="/".replace(/\/$/,""),z=[{name:"Главная",href:"/"},{name:"Каталог",href:"/products"},{name:"Наше фото",href:"/gallery"},{name:"Партнёры",href:"/partners"},{name:"О компании",href:"/about"},{name:"Контакты",href:"/contact"}],L=[{name:"Telegram",href:m.telegramChannelUrl,icon:"M13 18.9c-.5.2-1 .1-1.4-.2l-3-2.9-1.7 1.3c-.2.2-.5.2-.7.1-.2-.1-.3-.3-.3-.6V14l7.4-6.8c.2-.1.1-.4-.2-.3L5.5 12 2 10.7c-.4-.1-.6-.4-.6-.8 0-.3.2-.6.6-.8l15.6-6c.3-.1.7 0 .9.3.1.2.1.5 0 .8l-3 14.8c-.1.4-.4.7-.8.8-.1.1-.4.1-.7.1z"},{name:"VK",href:m.vkChannelUrl,icon:"M20.8 7.6c.1-.4 0-.6-.6-.6h-2c-.5 0-.7.2-.9.5 0 0-1 2.5-2.5 4.1-.5.5-.7.6-.9.6-.1 0-.3-.1-.3-.5V7.6c0-.5-.1-.6-.5-.6h-3.1c-.3 0-.5.2-.5.4 0 .4.7.5.8 1.6v2.4c0 .5-.1.6-.3.6-.7 0-2.3-2.5-3.3-5.4-.2-.5-.4-.7-.9-.7h-2c-.6 0-.7.2-.7.5 0 .5.7 3.2 3.2 6.7 1.7 2.4 4 3.7 6.2 3.7 1.3 0 1.4-.2 1.4-.7v-1.6c0-.5.1-.6.5-.6.3 0 .8.1 1.9 1.2 1.3 1.3 1.5 1.9 2.2 1.9h2c.6 0 .9-.2.7-.7-.2-.5-.9-1.2-1.8-2.1-.5-.6-1.2-1.2-1.4-1.5-.3-.4-.2-.5 0-.9 0 0 2.4-3.4 2.6-4.5z"},{name:"YouTube",href:m.youtubeChannelUrl,icon:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},{name:"RuTube",href:m.rutubeChannelUrl,icon:"M8.4 6.7A2 2 0 0 0 6 8.6v6.8a2 2 0 0 0 3 1.7l6.2-3.4a2 2 0 0 0 0-3.4L9 7a2 2 0 0 0-.6-.3z"}].filter(i=>!!i.href&&i.href!=="#");function q(){const[i,a]=r.useState(!1),[s,n]=r.useState(!1);r.useEffect(()=>{const e=()=>a(window.scrollY>50);return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]);const h=e=>W+e;return t.jsxs("header",{className:["fixed inset-x-0 top-0 z-50 transition-all duration-300",i?"bg-dark/80 backdrop-blur-md border-b border-white/10":"bg-transparent"].join(" "),children:[t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex h-16 items-center justify-between",children:[t.jsxs("a",{href:h("/"),className:"flex items-center gap-3 text-white/90 hover:text-white transition","aria-label":"XTIR",children:[t.jsx("span",{className:"font-display tracking-wide text-lg",children:"XTIR"}),t.jsx("span",{className:"hidden sm:inline text-white/60 text-sm",children:m.tagline})]}),t.jsx("nav",{className:"hidden lg:flex items-center gap-6",children:z.map(e=>t.jsx("a",{href:h(e.href),className:"text-sm text-white/70 hover:text-white transition",children:e.name},e.href))}),t.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[L.map(e=>t.jsx("a",{href:e.href,target:"_blank",rel:"noreferrer","aria-label":e.name,className:"p-2 rounded-lg hover:bg-white/10 transition",children:t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:e.icon})})},e.name)),t.jsx("a",{href:h(m.orderCtaHref),className:"ml-2 inline-flex items-center rounded-xl bg-primary px-4 py-2 text-sm font-medium text-dark hover:opacity-90 transition",children:m.orderCtaText})]}),t.jsx(N.button,{className:"lg:hidden inline-flex items-center justify-center rounded-xl p-2 text-white/80 hover:text-white hover:bg-white/10 transition",onClick:()=>n(e=>!e),whileTap:{scale:.95},"aria-label":"Меню",children:t.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",children:t.jsx("path",{d:"M4 7h16M4 12h16M4 17h16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]})}),t.jsx(D,{children:s&&t.jsx(N.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"lg:hidden border-t border-white/10 bg-dark/90 backdrop-blur-md",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-4 space-y-2",children:[z.map(e=>t.jsx("a",{href:h(e.href),onClick:()=>n(!1),className:"block rounded-xl px-3 py-2 text-white/80 hover:text-white hover:bg-white/10 transition",children:e.name},e.href)),t.jsxs("div",{className:"pt-2 flex items-center gap-2",children:[L.map(e=>t.jsx("a",{href:e.href,target:"_blank",rel:"noreferrer","aria-label":e.name,onClick:()=>n(!1),className:"p-2 rounded-xl hover:bg-white/10 transition",children:t.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:e.icon})})},e.name)),t.jsx("a",{href:h(m.orderCtaHref),onClick:()=>n(!1),className:"ml-auto inline-flex items-center rounded-xl bg-primary px-4 py-2 text-sm font-medium text-dark hover:opacity-90 transition",children:m.orderCtaText})]})]})})})]})}export{q as default};
