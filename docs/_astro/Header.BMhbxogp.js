import{j as e}from"./jsx-runtime.D3GSbgeI.js";import{r as n}from"./index.yGrMsBkE.js";import{S as j}from"./site.BQSwUSgt.js";import{M as $,u as S,P as U,a as V,b as H,L as A,m as y}from"./proxy.sfuAdDE1.js";import"./index.yBjzXJbu.js";class B extends n.Component{getSnapshotBeforeUpdate(o){const r=this.props.childRef.current;if(r&&o.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function K({children:a,isPresent:o}){const r=n.useId(),s=n.useRef(null),t=n.useRef({width:0,height:0,top:0,left:0}),{nonce:h}=n.useContext($);return n.useInsertionEffect(()=>{const{width:m,height:l,top:p,left:i}=t.current;if(o||!s.current||!m||!l)return;s.current.dataset.motionPopId=r;const d=document.createElement("style");return h&&(d.nonce=h),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${l}px !important;
            top: ${p}px !important;
            left: ${i}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[o]),e.jsx(B,{isPresent:o,childRef:s,sizeRef:t,children:n.cloneElement(a,{ref:s})})}const O=({children:a,initial:o,isPresent:r,onExitComplete:s,custom:t,presenceAffectsLayout:h,mode:m})=>{const l=S(_),p=n.useId(),i=n.useCallback(u=>{l.set(u,!0);for(const b of l.values())if(!b)return;s&&s()},[l,s]),d=n.useMemo(()=>({id:p,initial:o,isPresent:r,custom:t,onExitComplete:i,register:u=>(l.set(u,!1),()=>l.delete(u))}),h?[Math.random(),i]:[r,i]);return n.useMemo(()=>{l.forEach((u,b)=>l.set(b,!1))},[r]),n.useEffect(()=>{!r&&!l.size&&s&&s()},[r]),m==="popLayout"&&(a=e.jsx(K,{isPresent:r,children:a})),e.jsx(U.Provider,{value:d,children:a})};function _(){return new Map}const w=a=>a.key||"";function R(a){const o=[];return n.Children.forEach(a,r=>{n.isValidElement(r)&&o.push(r)}),o}const D=({children:a,custom:o,initial:r=!0,onExitComplete:s,presenceAffectsLayout:t=!0,mode:h="sync",propagate:m=!1})=>{const[l,p]=V(m),i=n.useMemo(()=>R(a),[a]),d=m&&!l?[]:i.map(w),u=n.useRef(!0),b=n.useRef(i),v=S(()=>new Map),[I,P]=n.useState(i),[x,M]=n.useState(i);H(()=>{u.current=!1,b.current=i;for(let f=0;f<x.length;f++){const c=w(x[f]);d.includes(c)?v.delete(c):v.get(c)!==!0&&v.set(c,!1)}},[x,d.length,d.join("-")]);const C=[];if(i!==I){let f=[...i];for(let c=0;c<x.length;c++){const g=x[c],N=w(g);d.includes(N)||(f.splice(c,0,g),C.push(g))}h==="wait"&&C.length&&(f=C),M(R(f)),P(i);return}const{forceRender:k}=n.useContext(A);return e.jsx(e.Fragment,{children:x.map(f=>{const c=w(f),g=m&&!l?!1:i===x||d.includes(c),N=()=>{if(v.has(c))v.set(c,!0);else return;let E=!0;v.forEach(T=>{T||(E=!1)}),E&&(k?.(),M(b.current),m&&p?.(),s&&s())};return e.jsx(O,{isPresent:g,initial:!u.current||r?void 0:!1,custom:g?void 0:o,presenceAffectsLayout:t,mode:h,onExitComplete:g?void 0:N,children:f},c)})})},z=[{name:"Главная",href:"/"},{name:"Продукты",href:"/products"},{name:"Технологии",href:"/technologies"},{name:"Галерея",href:"/gallery"},{name:"Партнёры",href:"/partners"},{name:"О компании",href:"/about"},{name:"Поддержка",href:"/support"},{name:"Контакты",href:"/contact"}],L=[{name:"Telegram",href:j.telegramChannelUrl,icon:"M13 18.9c-.5.2-1 .1-1.4-.2l-3-2.9-1.7 1.3c-.2.2-.5.2-.7.1-.2-.1-.3-.3-.3-.6V14l7.4-6.8c.2-.1.1-.4-.2-.3L5.5 12 2 10.7c-.4-.1-.6-.4-.6-.8 0-.3.2-.6.6-.8l15.6-6c.3-.1.7 0 .9.3.1.2.1.5 0 .8l-3 14.8c-.1.4-.4.7-.8.8-.1.1-.4.1-.7.1z"},{name:"VK",href:j.vkChannelUrl,icon:"M20.8 7.6c.1-.4 0-.6-.6-.6h-2c-.5 0-.7.2-.9.5 0 0-1 2.5-2.5 4.1-.5.5-.7.6-.9.6-.1 0-.3-.1-.3-.5V7.6c0-.5-.1-.6-.5-.6h-3.1c-.3 0-.5.2-.5.4 0 .4.7.5.8 1.6v2.4c0 .5-.1.6-.3.6-.7 0-2.3-2.5-3.3-5.4-.2-.5-.4-.7-.9-.7h-2c-.6 0-.7.2-.7.5 0 .5.7 3.2 3.2 6.7 1.7 2.4 4 3.7 6.2 3.7 1.3 0 1.4-.2 1.4-.7v-1.6c0-.5.1-.6.5-.6.3 0 .8.1 1.9 1.2 1.3 1.3 1.5 1.9 2.2 1.9h2c.6 0 .9-.2.7-.7-.2-.5-.9-1.2-1.8-2.1-.5-.6-1.2-1.2-1.4-1.5-.3-.4-.2-.5 0-.9 0 0 2.4-3.4 2.6-4.5z"},{name:"YouTube",href:j.youtubeChannelUrl,icon:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},{name:"RuTube",href:j.rutubeChannelUrl,icon:"M8.4 6.7A2 2 0 0 0 6 8.6v6.8a2 2 0 0 0 3 1.7l6.2-3.4a2 2 0 0 0 0-3.4L9 7a2 2 0 0 0-.6-.3z"}].filter(a=>!!a.href);function q(){const[a,o]=n.useState(!1),[r,s]=n.useState(!1);return n.useEffect(()=>{const t=()=>{o(window.scrollY>50)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),e.jsxs(y.header,{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${a?"bg-dark-900/95 backdrop-blur-lg shadow-lg shadow-primary-500/10":"bg-transparent"}`,initial:{y:-100},animate:{y:0},transition:{duration:.6},children:[e.jsx("nav",{className:"section-container",children:e.jsxs("div",{className:"flex items-center justify-between h-20",children:[e.jsxs("a",{href:"/",className:"flex items-center gap-3",children:[e.jsx("img",{src:"/images/logo.png",srcSet:"/images/logo.png 1x, /images/xtir-logo@2x.png 2x",width:140,height:48,alt:"XTIR",decoding:"async",className:"h-12 w-auto"}),e.jsx("div",{className:"leading-tight",children:e.jsx("div",{className:"text-xs text-white/55",children:"Точность технологий"})})]}),e.jsx("div",{className:"hidden lg:flex items-center space-x-8",children:z.map((t,h)=>e.jsxs(y.a,{href:t.href,className:"text-gray-300 hover:text-primary-500 font-medium transition-colors relative group",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:h*.1},children:[t.name,e.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-primary-500 to-secondary-500 group-hover:w-full transition-all duration-300"})]},t.name))}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center space-x-2",children:L.map(t=>e.jsx(y.a,{href:t.href,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-lg bg-dark-800 border border-dark-700 flex items-center justify-center hover:border-primary-500 hover:bg-dark-700 transition-all group","aria-label":t.name,title:t.name,whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-primary-500 transition-colors",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:t.icon})})},t.name))}),e.jsx(y.a,{href:"/contact",className:"btn btn-primary",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Заказать"})]}),e.jsxs(y.button,{className:"lg:hidden w-10 h-10 flex flex-col items-center justify-center space-y-1.5 group",onClick:()=>s(!r),whileTap:{scale:.95},children:[e.jsx("span",{className:`block w-6 h-0.5 bg-white transition-all ${r?"rotate-45 translate-y-2":""}`}),e.jsx("span",{className:`block w-6 h-0.5 bg-white transition-all ${r?"opacity-0":""}`}),e.jsx("span",{className:`block w-6 h-0.5 bg-white transition-all ${r?"-rotate-45 -translate-y-2":""}`})]})]})}),e.jsx(D,{children:r&&e.jsx(y.div,{className:"lg:hidden absolute top-full left-0 right-0 bg-dark-900/98 backdrop-blur-xl border-t border-primary-500/20",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:e.jsxs("nav",{className:"section-container py-6 space-y-4",children:[z.map((t,h)=>e.jsx(y.a,{href:t.href,className:"block py-3 text-lg text-gray-300 hover:text-primary-500 transition-colors border-b border-dark-700 last:border-0",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},onClick:()=>s(!1),children:t.name},t.name)),e.jsxs("div",{className:"pt-4 space-y-3",children:[e.jsx("div",{className:"flex items-center justify-center gap-3",children:L.map(t=>e.jsx("a",{href:t.href,target:"_blank",rel:"noopener noreferrer","aria-label":t.name,title:t.name,className:"w-11 h-11 rounded-lg bg-dark-800 border border-dark-700 flex items-center justify-center hover:border-primary-500 hover:bg-dark-700 transition-all",onClick:()=>s(!1),children:e.jsx("svg",{className:"w-5 h-5 text-gray-300",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{d:t.icon})})},t.name))}),e.jsx("a",{href:"/contact",className:"block w-full btn btn-primary text-center",children:"Заказать"})]})]})})})]})}export{q as default};
