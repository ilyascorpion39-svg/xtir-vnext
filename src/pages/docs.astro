---
import BaseLayout from '@/layouts/BaseLayout.astro';

const SITE_URL = 'https://ilyascorpion39-svg.github.io/xtir-vnext';

function getFileUrl(file: string, type: string): string {
  if (type === 'PDF') return file;
  return `https://docs.google.com/viewer?url=${encodeURIComponent(SITE_URL + file)}&embedded=true`;
}

const categories = [
  {
    id: 'manuals',
    title: '–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –ø–∞—Å–ø–æ—Ä—Ç–∞',
    icon: 'üìã',
    docs: [
      { title: '–ü—É–º–∞ 35–ú ‚Äî –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è', tags: ['–ú–∏—à–µ–Ω–∏', '–≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è'], file: '/xtir-archive/XTIR_ASSETS_PACK/02_docs/–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ü—É–º–∞ 35–ú.docx', available: true, type: 'DOCX' },
      { title: '–ü–ú–£-35 ‚Äî –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è-–ø–∞—Å–ø–æ—Ä—Ç', tags: ['–ü–æ–¥—ä—ë–º–Ω–∏–∫–∏', '–ü–∞—Å–ø–æ—Ä—Ç'], file: '/xtir-archive/XTIR_ASSETS_PACK/02_docs/–ü–ú–£ 35  –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è-–ø–∞—Å–ø–æ—Ä—Ç.doc', available: true, type: 'DOC' },
      { title: '–ü–ú–£-53 ‚Äî –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏', tags: ['–ü–æ–¥—ä—ë–º–Ω–∏–∫–∏', '–≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è'], file: '/xtir-archive/XTIR_ASSETS_PACK/02_docs/–ü–ú–£53 –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ (1).docx', available: true, type: 'DOCX' },
      { title: '–†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –ü–ú–£-300', tags: ['–ü–æ–¥—ä—ë–º–Ω–∏–∫–∏', '–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ'], file: '/xtir-archive/XTIR_ASSETS_PACK/02_docs/–†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –ü–ú–£300.docx', available: true, type: 'DOCX' },
      { title: '–°—Ç–æ–π–∫–∞ –°–∞–≥–≥–∏—Ç–∞—Ä ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', tags: ['–û—Å–Ω–∞—â–µ–Ω–∏–µ', '–≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è'], file: '/xtir-archive/XTIR_ASSETS_PACK/02_docs/–°—Ç–æ–π–∫–∞ —Å–∞–≥–≥–∏—Ç–∞—Ä.doc', available: true, type: 'DOC' },
      { title: '–ü–ú–£-7–ú ‚Äî –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏', tags: ['–ü–æ–¥—ä—ë–º–Ω–∏–∫–∏', '–≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è'], file: null, available: false, type: 'DOC' },
      { title: '–ü–ú–£-90 ‚Äî –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏', tags: ['–ü–æ–¥—ä—ë–º–Ω–∏–∫–∏', '–≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è'], file: null, available: false, type: 'DOC' },
    ]
  },
  {
    id: 'technical',
    title: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã',
    icon: '‚öôÔ∏è',
    docs: [
      { title: '–ú–æ–Ω—Ç–∞–∂ –º–æ–Ω–æ—Ä–µ–ª—å—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —É–≥–æ–ª–∫–æ–≤ 50√ó50√ó5 –º–º', tags: ['–ú–æ–Ω—Ç–∞–∂', '–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞'], file: '/xtir-archive/XTIR_ASSETS_PACK/02_docs/–ú–æ–Ω—Ç–∞–∂ –º–æ–Ω–æ—Ä–µ–ª—å—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —É–≥–æ–ª–∫–æ–≤_ 50—Ö50—Ö5 –º–º.doc', available: true, type: 'DOC' },
      { title: '–ü–µ—á–∞—Ç–Ω—ã–π —É–∑–µ–ª –±–ª–æ–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –£–ú–£-–°-127', tags: ['–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞', '–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã'], file: '/xtir-archive/XTIR_ASSETS_PACK/02_docs/–ü–µ—á–∞—Ç–Ω—ã–π —É–∑–µ–ª –±–ª–æ–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∏—à–µ–Ω–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–∏–ø–∞ –£–ú–£-–°-127.pptx', available: true, type: 'PPTX' },
      { title: '–¢–æ—á–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —É–¥–∞—Ä–∞', tags: ['–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏', '–°–µ–Ω—Å–æ—Ä—ã'], file: null, available: false, type: 'PDF' },
      { title: '–í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∏—à–µ–Ω–Ω—ã–º–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏', tags: ['–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏', '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ'], file: null, available: false, type: 'PDF' },
    ]
  },
  {
    id: 'solutions',
    title: '–†–µ—à–µ–Ω–∏—è –∏ –ø—Ä–æ–µ–∫—Ç—ã',
    icon: 'üéØ',
    docs: [
      { title: '–ö–æ–º–ø–ª–µ–∫—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∏—à–µ–Ω–Ω—ã–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º –≤–æ–π—Å–∫–æ–≤–æ–≥–æ —Å—Ç—Ä–µ–ª—å–±–∏—â–∞', tags: ['–í–æ–µ–Ω–Ω—ã–µ', '–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è'], file: '/xtir-archive/XTIR_ASSETS_PACK/02_docs/–ö–æ–º–ø–ª–µ–∫—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∏—à–µ–Ω–Ω—ã–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º –≤–æ–π—Å–∫–æ–≤–æ–≥–æ —Å—Ç—Ä–µ–ª—å–±–∏—â–∞.pptx', available: true, type: 'PPTX' },
      { title: '–ù–æ–≤–∞—è –∂–∏–∑–Ω—å —Å—Ç—Ä–µ–ª–∫–æ–≤–æ–º—É —Ç–∏—Ä—É ‚Äî DIY –∫–µ–π—Å', tags: ['–ö–µ–π—Å—ã', '–†–µ–∞–ª–∏–∑–∞—Ü–∏—è'], file: '/xtir-archive/XTIR_ASSETS_PACK/02_docs/–ù–æ–≤–∞—è –∂–∏–∑–Ω—å —Å—Ç—Ä–µ–ª–∫–æ–≤–æ–º—É —Ç–∏—Ä—É.docx', available: true, type: 'DOCX' },
      { title: '–û—Å–Ω–∞—â–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ —Ç–∏—Ä–∞', tags: ['–ü—Ä–æ–µ–∫—Ç—ã', '–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è'], file: null, available: false, type: 'DOC' },
      { title: '–ö–æ–º–ø–ª–µ–∫—Ç –¥–ª—è –ø–µ—Ä–µ–¥–µ–ª–∫–∏ GAN2', tags: ['–ú–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è', '–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã'], file: null, available: false, type: 'PDF' },
    ]
  },
  {
    id: 'international',
    title: '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã',
    icon: 'üåê',
    docs: [
      { title: 'CR-2 Target Retrieval System ‚Äî PDS', tags: ['–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ', '–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã'], file: '/xtir-archive/XTIR_ASSETS_PACK/02_docs/CR-2-Target-Retrieval-System-PDS.pdf', available: true, type: 'PDF' },
      { title: 'CR-2TL Master Range Control ‚Äî PDS', tags: ['–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ', '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ'], file: '/xtir-archive/XTIR_ASSETS_PACK/02_docs/CR-2TL-Master-Range-Control-PDS.pdf', available: true, type: 'PDF' },
    ]
  },
];

const totalDocs = categories.reduce((acc, c) => acc + c.docs.length, 0);
const availableDocs = categories.reduce((acc, c) => acc + c.docs.filter(d => d.available).length, 0);
---

<BaseLayout
  title="–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤"
  description="–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é XTIR."
>
  <main class="docs-page content-main">

    <section class="docs-hero">
      <div class="docs-hero__bg"></div>
      <div class="xtir-container">
        <div class="docs-hero__inner">
          <div class="docs-hero__label">–¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –ë–ò–ë–õ–ò–û–¢–ï–ö–ê</div>
          <h1 class="docs-hero__title">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è<br/><span>XTIR</span></h1>
          <p class="docs-hero__sub">
            –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –ø–∞—Å–ø–æ—Ä—Ç–∞, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –ø—Ä–æ–µ–∫—Ç–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.
            –î–æ–∫—É–º–µ–Ω—Ç—ã —Å –∫–Ω–æ–ø–∫–æ–π <strong style="color:#00b3ff">–û—Ç–∫—Ä—ã—Ç—å</strong> ‚Äî –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ —á–µ—Ä–µ–∑ Google Docs.
            –û—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî –ø–æ –∑–∞–ø—Ä–æ—Å—É, –±–µ—Å–ø–ª–∞—Ç–Ω–æ.
          </p>
          <div class="docs-hero__stats">
            <div class="docs-stat">
              <div class="docs-stat__num">{availableDocs}</div>
              <div class="docs-stat__label">–æ–Ω–ª–∞–π–Ω</div>
            </div>
            <div class="docs-stat__divider"></div>
            <div class="docs-stat">
              <div class="docs-stat__num">{totalDocs - availableDocs}</div>
              <div class="docs-stat__label">–ø–æ –∑–∞–ø—Ä–æ—Å—É</div>
            </div>
            <div class="docs-stat__divider"></div>
            <div class="docs-stat">
              <div class="docs-stat__num">24—á</div>
              <div class="docs-stat__label">–≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="docs-catalog xtir-container">
      {categories.map((cat) => (
        <div class="doc-category">
          <div class="doc-category__header">
            <span class="doc-category__icon">{cat.icon}</span>
            <h2 class="doc-category__title">{cat.title}</h2>
            <span class="doc-category__count">{cat.docs.length}</span>
          </div>
          <div class="doc-list">
            {cat.docs.map((doc, i) => (
              <div class={`doc-item ${doc.available ? 'doc-item--available' : ''}`}>
                <div class="doc-item__num">{String(i + 1).padStart(2, '0')}</div>
                <div class="doc-item__icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                    <path stroke-linecap="round" d="M12 3v6h6"/>
                  </svg>
                </div>
                <div class="doc-item__info">
                  <div class="doc-item__title">{doc.title}</div>
                  <div class="doc-item__tags">
                    <span class={`doc-type doc-type--${doc.type.toLowerCase()}`}>{doc.type}</span>
                    {doc.tags.map(tag => (
                      <span class="doc-tag">{tag}</span>
                    ))}
                  </div>
                </div>
                <div class="doc-item__actions">
                  {doc.available && doc.file ? (
                    <a
                      href={getFileUrl(doc.file, doc.type)}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="doc-btn doc-btn--open"
                    >
                      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                      </svg>
                      –û—Ç–∫—Ä—ã—Ç—å
                    </a>
                  ) : (
                    <button
                      class="doc-btn doc-btn--request"
                      onclick={`openRequest('${doc.title}')`}
                    >
                      –ó–∞–ø—Ä–æ—Å–∏—Ç—å
                    </button>
                  )}
                </div>
              </div>
            ))}
          </div>
        </div>
      ))}
    </section>

    <section class="request-section" id="request-form">
      <div class="xtir-container">
        <div class="request-inner">
          <div class="request-left">
            <div class="request-label">–ó–ê–ü–†–û–° –î–û–ö–£–ú–ï–ù–¢–ê</div>
            <h2 class="request-title">–ù—É–∂–µ–Ω<br/>–¥–æ–∫—É–º–µ–Ω—Ç?</h2>
            <p class="request-desc">–£–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ ‚Äî –ø—Ä–∏—à–ª—ë–º –Ω–∞ email –≤ —Ç–µ—á–µ–Ω–∏–µ —Å—É—Ç–æ–∫. –ë–µ—Å–ø–ª–∞—Ç–Ω–æ.</p>
            <div class="request-contacts">
              <a href="mailto:info@xtir.ru" class="request-contact">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
                info@xtir.ru
              </a>
              <a href="tel:+79154250095" class="request-contact">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
                +7 (915) 425-00-95
              </a>
            </div>
          </div>
          <div class="request-right">
            <form class="request-form" id="doc-request-form">
              <div class="form-group">
                <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞</label>
                <input type="text" id="doc-name" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ü–ú–£-7–ú"/>
              </div>
              <div class="form-group">
                <label class="form-label">–í–∞—à–µ –∏–º—è</label>
                <input type="text" class="form-input" placeholder="–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è"/>
              </div>
              <div class="form-group">
                <label class="form-label">Email *</label>
                <input type="email" class="form-input" placeholder="your@email.ru" required/>
              </div>
              <div class="form-group">
                <label class="form-label">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
                <textarea class="form-input form-textarea" placeholder="–£—Ç–æ—á–Ω–∏—Ç–µ –∑–∞–¥–∞—á—É –∏–ª–∏ —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ" rows="3"></textarea>
              </div>
              <button type="submit" class="form-submit">
                <span>–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å</span>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M14 5l7 7m0 0l-7 7m7-7H3"/></svg>
              </button>
            </form>
          </div>
        </div>
      </div>
    </section>

  </main>
</BaseLayout>

<div class="modal-overlay" id="modal-overlay" onclick="closeModal()">
  <div class="modal" data-stop-propagation>
    <button class="modal-close" onclick="closeModal()">‚úï</button>
    <div class="modal-icon">üìÑ</div>
    <h3 class="modal-title">–ó–∞–ø—Ä–æ—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞</h3>
    <p class="modal-doc" id="modal-doc-name"></p>
    <p class="modal-text">–í–≤–µ–¥–∏—Ç–µ email ‚Äî –ø—Ä–∏—à–ª—ë–º –¥–æ–∫—É–º–µ–Ω—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ —Å—É—Ç–æ–∫.</p>
    <input type="email" class="form-input" id="modal-email" placeholder="your@email.ru"/>
    <button class="form-submit" onclick="submitQuickRequest()" style="width:100%;margin-top:12px;">
      <span>–ü–æ–ª—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç</span>
    </button>
  </div>
</div>

<script>
  function openRequest(docName: string) {
    const overlay = document.getElementById('modal-overlay');
    const docNameEl = document.getElementById('modal-doc-name');
    const docInput = document.getElementById('doc-name') as HTMLInputElement | null;
    if (docNameEl) docNameEl.textContent = '¬´' + docName + '¬ª';
    if (docInput) docInput.value = docName;
    if (overlay) overlay.classList.add('active');
  }
  function closeModal() {
    document.getElementById('modal-overlay')?.classList.remove('active');
  }
  function submitQuickRequest() {
    const email = (document.getElementById('modal-email') as HTMLInputElement)?.value;
    if (!email) { alert('–í–≤–µ–¥–∏—Ç–µ email'); return; }
    closeModal();
    showToast('‚úì –ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –û—Ç–≤–µ—Ç–∏–º –≤ —Ç–µ—á–µ–Ω–∏–µ —Å—É—Ç–æ–∫.');
  }
  function showToast(msg: string) {
    const t = document.createElement('div');
    t.className = 'toast'; t.textContent = msg;
    document.body.appendChild(t);
    setTimeout(() => t.classList.add('show'), 10);
    setTimeout(() => { t.classList.remove('show'); setTimeout(() => t.remove(), 300); }, 3500);
  }
  (window as any).openRequest = openRequest;
  (window as any).closeModal = closeModal;
  (window as any).submitQuickRequest = submitQuickRequest;
  document.getElementById('doc-request-form')?.addEventListener('submit', (e) => {
    e.preventDefault();
    showToast('‚úì –ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –û—Ç–≤–µ—Ç–∏–º –≤ —Ç–µ—á–µ–Ω–∏–µ —Å—É—Ç–æ–∫.');
  });
</script>

<script is:inline>
  (() => {
    const init = () => {
      document.querySelectorAll('[data-stop-propagation]').forEach((el) => {
        el.addEventListener('click', (ev) => ev.stopPropagation());
      });
    };
    if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init, { once: true });
    else init();
  })();
</script>

<style>
  .docs-page {
    --bg: #0f141a; --bg2: #0b0e13; --surface: #141a22;
    --border: rgba(255,255,255,0.07); --accent: #00b3ff;
    --text: rgba(255,255,255,0.88); --muted: rgba(255,255,255,0.42);
    background: var(--bg); color: var(--text); min-height: 100vh; padding-bottom: clamp(56px, 7vw, 90px);
  }
  .docs-hero { position: relative; padding: clamp(56px, 8vw, 96px) 0 56px; overflow: hidden; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.008)); border-bottom: 1px solid var(--border); }
  .docs-hero__bg {
    position: absolute; inset: 0;
    background: radial-gradient(ellipse 600px 400px at 80% 50%, rgba(0,179,255,0.06) 0%, transparent 70%);
  }
  .docs-hero__inner { position: relative; z-index: 2; }
  .docs-hero__label { font-family: 'Courier New', monospace; font-size: .72rem; letter-spacing: .2em; color: var(--accent); opacity: .7; margin-bottom: 20px; }
  .docs-hero__title { font-size: clamp(2.2rem, 5.5vw, 4.6rem); font-weight: 700; line-height: .95; margin: 0 0 24px; letter-spacing: -.02em; }
  .docs-hero__title span { color: transparent; -webkit-text-stroke: 2px var(--accent); }
  .docs-hero__sub { font-size: var(--xtir-body); line-height: 1.7; color: rgba(255,255,255,0.66); max-width: 66ch; margin: 0 0 36px; }
  .docs-hero__stats { display: flex; align-items: center; gap: 32px; }
  .docs-stat__num { font-size: 2rem; font-weight: 700; color: var(--accent); line-height: 1; }
  .docs-stat__label { font-size: .78rem; color: var(--muted); font-family: 'Courier New', monospace; text-transform: uppercase; letter-spacing: .08em; }
  .docs-stat__divider { width: 1px; height: 40px; background: var(--border); }
  .docs-catalog { padding: clamp(34px, 5vw, 56px) 0; }
  .doc-category { margin-bottom: 52px; }
  .doc-category__header { display: flex; align-items: center; gap: 12px; margin-bottom: 16px; padding-bottom: 16px; border-bottom: 1px solid var(--border); }
  .doc-category__icon { font-size: 1.4rem; }
  .doc-category__title { font-size: 1.15rem; font-weight: 700; margin: 0; flex: 1; }
  .doc-category__count { font-family: 'Courier New', monospace; font-size: .75rem; color: var(--accent); background: rgba(0,179,255,0.08); border: 1px solid rgba(0,179,255,0.2); padding: 3px 10px; border-radius: 20px; }
  .doc-list { display: flex; flex-direction: column; gap: 2px; }
  .doc-item { display: flex; align-items: center; gap: 16px; padding: 14px 16px; background: linear-gradient(180deg, rgba(255,255,255,0.035), rgba(255,255,255,0.012)); border: 1px solid var(--border); border-radius: 14px; transition: border-color .2s, background .2s, transform .2s; box-shadow: inset 0 1px 0 rgba(255,255,255,0.03); }
  .doc-item:hover { transform: translateY(-2px); }
  .doc-item--available:hover { border-color: rgba(0,179,255,0.25); background: rgba(0,179,255,0.03); }
  .doc-item__num { font-family: 'Courier New', monospace; font-size: .65rem; color: var(--muted); width: 20px; flex-shrink: 0; text-align: right; }
  .doc-item__icon { width: 28px; height: 28px; flex-shrink: 0; color: var(--muted); }
  .doc-item__icon svg { width: 100%; height: 100%; }
  .doc-item__info { flex: 1; min-width: 0; }
  .doc-item__title { font-size: .92rem; font-weight: 600; margin-bottom: 5px; line-height: 1.3; }
  .doc-item__tags { display: flex; gap: 6px; flex-wrap: wrap; align-items: center; }
  .doc-type { font-family: 'Courier New', monospace; font-size: .6rem; font-weight: 700; padding: 2px 7px; border-radius: 2px; letter-spacing: .05em; }
  .doc-type--pdf { background: rgba(220,50,50,0.15); color: #ff6b6b; border: 1px solid rgba(220,50,50,0.25); }
  .doc-type--doc, .doc-type--docx { background: rgba(0,100,220,0.15); color: #6b9fff; border: 1px solid rgba(0,100,220,0.25); }
  .doc-type--pptx { background: rgba(220,100,0,0.15); color: #ffaa6b; border: 1px solid rgba(220,100,0,0.25); }
  .doc-tag { font-family: 'Courier New', monospace; font-size: .62rem; letter-spacing: .06em; color: var(--muted); text-transform: uppercase; background: rgba(255,255,255,0.04); border: 1px solid var(--border); padding: 2px 8px; border-radius: 2px; }
  .doc-item__actions { flex-shrink: 0; }
  .doc-btn { display: inline-flex; align-items: center; gap: 6px; font-size: .8rem; font-weight: 600; padding: 9px 16px; border-radius: 10px; cursor: pointer; white-space: nowrap; transition: all .2s; font-family: inherit; text-decoration: none; border: 1px solid; min-height: 42px; }
  .doc-btn svg { width: 14px; height: 14px; }
  .doc-btn--open { color: var(--accent); background: rgba(0,179,255,0.08); border-color: rgba(0,179,255,0.3); }
  .doc-btn--open:hover { background: rgba(0,179,255,0.18); border-color: rgba(0,179,255,0.6); }
  .doc-btn--request { color: var(--muted); background: rgba(255,255,255,0.04); border-color: var(--border); }
  .doc-btn--request:hover { color: var(--text); background: rgba(255,255,255,0.08); }
  .request-section { background: linear-gradient(180deg, rgba(255,255,255,0.018), rgba(255,255,255,0.008)); padding: clamp(46px, 7vw, 78px) 0 clamp(54px, 8vw, 94px); border-top: 1px solid var(--border); }
  .request-inner { display: grid; grid-template-columns: 1fr 1fr; gap: 64px; align-items: start; }
  @media (max-width: 768px) {
    .docs-hero__stats { gap: 18px; }
    .docs-stat__num { font-size: 1.6rem; }
    .docs-stat__divider { height: 26px; }
    .docs-catalog { padding-top: 28px; }
    .request-inner { grid-template-columns: 1fr; gap: 34px; }
  }
  .request-label { font-family: 'Courier New', monospace; font-size: .7rem; letter-spacing: .2em; color: var(--accent); opacity: .7; margin-bottom: 16px; }
  .request-title { font-size: clamp(32px, 4vw, 52px); font-weight: 700; line-height: .95; letter-spacing: -.02em; margin: 0 0 20px; }
  .request-desc { font-size: .95rem; line-height: 1.7; color: var(--muted); margin: 0 0 32px; }
  .request-contacts { display: flex; flex-direction: column; gap: 12px; }
  .request-contact { display: flex; align-items: center; gap: 10px; font-size: .9rem; color: var(--muted); text-decoration: none; transition: color .2s; }
  .request-contact svg { width: 18px; height: 18px; flex-shrink: 0; }
  .request-contact:hover { color: var(--text); }
  .request-form { display: flex; flex-direction: column; gap: 16px; }
  .form-group { display: flex; flex-direction: column; gap: 6px; }
  .form-label { font-size: .78rem; color: var(--muted); font-family: 'Courier New', monospace; text-transform: uppercase; letter-spacing: .08em; }
  .form-input { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 12px 16px; color: var(--text); font-size: .92rem; font-family: inherit; width: 100%; box-sizing: border-box; transition: border-color .2s, box-shadow .2s; outline: none; }
  .form-input:focus { border-color: rgba(0,179,255,0.4); }
  .form-input::placeholder { color: var(--muted); }
  .form-textarea { resize: vertical; min-height: 80px; }
  .form-submit { display: flex; align-items: center; justify-content: center; gap: 10px; background: linear-gradient(180deg, #5ad4ff 0%, #00b3ff 72%, #0091d9 100%); color: #05131a; border: none; border-radius: 12px; padding: 14px 28px; font-size: .95rem; font-weight: 700; cursor: pointer; font-family: inherit; transition: all .2s; min-height: 46px; }
  .form-submit svg { width: 18px; height: 18px; }
  .form-submit:hover { background: #00c8ff; transform: translateY(-1px); }
  .modal-overlay { position: fixed; inset: 0; z-index: 1000; background: rgba(0,0,0,0.7); backdrop-filter: blur(4px); display: flex; align-items: center; justify-content: center; opacity: 0; pointer-events: none; transition: opacity .25s; }
  .modal-overlay.active { opacity: 1; pointer-events: all; }
  .modal { background: #141a22; border: 1px solid rgba(0,179,255,0.2); border-radius: 12px; padding: 40px; max-width: 420px; width: 90%; position: relative; transform: translateY(20px); transition: transform .25s; text-align: center; }
  .modal-overlay.active .modal { transform: translateY(0); }
  .modal-close { position: absolute; top: 16px; right: 16px; background: none; border: none; color: var(--muted); font-size: 1.1rem; cursor: pointer; padding: 4px 8px; border-radius: 4px; transition: color .2s; font-family: inherit; }
  .modal-close:hover { color: var(--text); }
  .modal-icon { font-size: 2.5rem; margin-bottom: 16px; }
  .modal-title { font-size: 1.3rem; font-weight: 700; margin: 0 0 8px; }
  .modal-doc { font-size: .85rem; color: var(--accent); margin: 0 0 8px; line-height: 1.4; }
  .modal-text { font-size: .88rem; color: var(--muted); margin: 0 0 20px; }
  .toast { position: fixed; bottom: 32px; left: 50%; transform: translateX(-50%) translateY(20px); background: #1a2a1a; border: 1px solid rgba(0,200,100,0.4); color: rgba(0,220,120,1); padding: 14px 24px; border-radius: 8px; font-size: .9rem; font-weight: 600; z-index: 9999; opacity: 0; transition: all .3s; }
  .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
</style>
